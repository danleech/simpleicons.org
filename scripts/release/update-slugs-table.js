#!/usr/bin/env node
/**
 * @fileoverview
 * Generates a MarkDown file that lists every brand name and their slug.
 */

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';
import data from '../../_data/simple-icons.json';
import { getIconSlug } from '../utils.cjs';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

const rootDir = path.resolve(__dirname, '..', '..');
const slugsFile = path.resolve(rootDir, 'slugs.md');

let content = `<!--
This file is automatically generated. If you want to change something, please
update the script at '${path.relative(rootDir, __filename)}'.
-->

# Simple Icons slugs

| Brand name | Brand slug |
| :--- | :--- |
`;

data.icons.forEach((icon) => {
  const brandName = icon.title;
  const brandSlug = getIconSlug(icon);
  content += `| \`${brandName}\` | \`${brandSlug}\` |\n`;
});

fs.writeFileSync(slugsFile, content);
